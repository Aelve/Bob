language: haskell

cache:
  directories:
  - .ghc
  - .cabal

ghc:
- 7.8

addons:
  apt:
    packages:
    - libgtk-3-dev

install:
- type gtk2hsC2hs >/dev/null 2>&1 || { cabal install alex happy; cabal install gtk2hs-buildtools; }
- cabal install --only-dependencies --enable-tests

script:
- cabal configure --enable-tests
- cabal build --ghc-options="-Werror"
- cabal test
- cabal check
